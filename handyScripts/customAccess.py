"""
Note: Needs ixnetwork_restpy >= 1.1.8
Creates a layer 2-3 traffic flow custom view
This sample requires a running ixnetwork instance that has traffic being transmitted.
It uses all possible traffic filters, port filters, enumeration filters and statistics when creating the view.
The last step prior to getting data should be to enable the view.
"""

from time import sleep
from ixnetwork_restpy import SessionAssistant


session_assistant = SessionAssistant(
    IpAddress="10.36.236.121",
    UserName="admin",
    Password="XXXXXXXXXXX!",
    LogLevel=SessionAssistant.LOGLEVEL_INFO,
    ClearConfig=False,
    SessionId=39
)
ixnetwork = session_assistant.Ixnetwork


# remove the view if it already exists
caption = "Ashwin Custome Egress View"
view = ixnetwork.Statistics.View.find(Caption=caption)

# Get the Views object
views = ixnetwork.Statistics.View.find()

# Get the page object containing row values
page = view.Page

# Get header column values
header = page.ColumnCaptions
# Get row values
row_values = page.RowValues



from tabulate import tabulate
tabl = []
tabl.append(header)

table_first_entry = []

for key, ti in row_values.items():
    for individual_egress_tracking in ti:
        if individual_egress_tracking[0]: # means it is first master row
            tabl.append(individual_egress_tracking)
        else:
            tabl.append(individual_egress_tracking) # means these are egress rows
    break
    
t= tabulate(tabl, tablefmt="grid")
print(t)

"""

Output:

For one traffic item:

+----------------+----------------+----------------+-----------------------------------------------+------------+------------+--------------+--------+---------------+---------------+------------------+------------------+--------------+---------------+---------------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------------------+-----------------+-------------------+
| Tx Port        | Rx Port        | Traffic Item   | Egress Tracking                               | Tx Frames  | Rx Frames  | Frames Delta | Loss % | Tx Frame Rate | Rx Frame Rate | Tx L1 Rate (bps) | Rx L1 Rate (bps) | Rx Bytes     | Tx Rate (Bps) | Rx Rate (Bps) | Tx Rate (bps) | Rx Rate (bps) | Tx Rate (Kbps) | Rx Rate (Kbps) | Tx Rate (Mbps) | Rx Rate (Mbps) | Store-Forward Avg Latency (ns) | First TimeStamp | Last TimeStamp    |
+----------------+----------------+----------------+-----------------------------------------------+------------+------------+--------------+--------+---------------+---------------+------------------+------------------+--------------+---------------+---------------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------------------+-----------------+-------------------+
| Ethernet - 001 | Ethernet - 002 | Traffic Item 1 | Ethernet:Outer VLAN ID (4 bits) at offset 124 | 8496251683 | 8496251661 | 22           | 0      | 13888888.5    | 13888888.5    | 9999999720       | 9999999720       | 594737616270 | 972222195     | 972222195     | 7777777560    | 7777777560    | 7777777.56     | 7777777.56     | 7777.778       | 7777.778       | 1                              | 00:00:00.657    | 2562047:47:16.437 |
+----------------+----------------+----------------+-----------------------------------------------+------------+------------+--------------+--------+---------------+---------------+------------------+------------------+--------------+---------------+---------------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------------------+-----------------+-------------------+
|                |                |                | 15                                            |            | 509775099  |              |        |               | 833333        |                  | 599999760        | 35684256930  |               | 58333310      |               | 466666480     |                | 466666.48      |                | 466.666        | 1                              | 00:00:00.657    | 2562047:47:16.437 |
+----------------+----------------+----------------+-----------------------------------------------+------------+------------+--------------+--------+---------------+---------------+------------------+------------------+--------------+---------------+---------------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------------------+-----------------+-------------------+
|                |                |                | 14                                            |            | 509775099  |              |        |               | 833333        |                  | 599999760        | 35684256930  |               | 58333310      |               | 466666480     |                | 466666.48      |                | 466.666        | 1                              | 00:00:00.657    | 2562047:47:16.437 |
+----------------+----------------+----------------+-----------------------------------------------+------------+------------+--------------+--------+---------------+---------------+------------------+------------------+--------------+---------------+---------------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------------------+-----------------+-------------------+
|                |                |                | 13                                            |            | 509775100  |              |        |               | 833333.5      |                  | 600000120        | 35684257000  |               | 58333345      |               | 466666760     |                | 466666.76      |                | 466.667        | 1                              | 00:00:00.657    | 2562047:47:16.437 |
+----------------+----------------+----------------+-----------------------------------------------+------------+------------+--------------+--------+---------------+---------------+------------------+------------------+--------------+---------------+---------------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------------------+-----------------+-------------------+
|                |                |                | 12                                            |            | 509775100  |              |        |               | 833333.5      |                  | 600000120        | 35684257000  |               | 58333345      |               | 466666760     |                | 466666.76      |                | 466.667        | 1                              | 00:00:00.657    | 2562047:47:16.437 |
+----------------+----------------+----------------+-----------------------------------------------+------------+------------+--------------+--------+---------------+---------------+------------------+------------------+--------------+---------------+---------------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------------------+-----------------+-------------------+
|                |                |                | 11                                            |            | 509775100  |              |        |               | 833333.5      |                  | 600000120        | 35684257000  |               | 58333345      |               | 466666760     |                | 466666.76      |                | 466.667        | 1                              | 00:00:00.657    | 2562047:47:16.437 |
+----------------+----------------+----------------+-----------------------------------------------+------------+------------+--------------+--------+---------------+---------------+------------------+------------------+--------------+---------------+---------------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------------------+-----------------+-------------------+
|                |                |                | 10                                            |            | 509775100  |              |        |               | 833333.5      |                  | 600000120        | 35684257000  |               | 58333345      |               | 466666760     |                | 466666.76      |                | 466.667        | 1                              | 00:00:00.657    | 2562047:47:16.437 |
+----------------+----------------+----------------+-----------------------------------------------+------------+------------+--------------+--------+---------------+---------------+------------------+------------------+--------------+---------------+---------------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------------------+-----------------+-------------------+
|                |                |                | 9                                             |            | 509775100  |              |        |               | 833333.5      |                  | 600000120        | 35684257000  |               | 58333345      |               | 466666760     |                | 466666.76      |                | 466.667        | 1                              | 00:00:00.657    | 2562047:47:16.437 |
+----------------+----------------+----------------+-----------------------------------------------+------------+------------+--------------+--------+---------------+---------------+------------------+------------------+--------------+---------------+---------------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------------------+-----------------+-------------------+
|                |                |                | 8                                             |            | 509775100  |              |        |               | 833333.5      |                  | 600000120        | 35684257000  |               | 58333345      |               | 466666760     |                | 466666.76      |                | 466.667        | 1                              | 00:00:00.657    | 2562047:47:16.437 |
+----------------+----------------+----------------+-----------------------------------------------+------------+------------+--------------+--------+---------------+---------------+------------------+------------------+--------------+---------------+---------------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------------------+-----------------+-------------------+
(modernai) (base) ashwjosh@HK4T3VJL9J modernaipro % 



